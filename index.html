<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nubank</title>

  <style>
    body { font-family: Arial; max-width: 500px; margin: 20px auto; padding: 20px; }
    input, select { width:100%; padding:10px; margin:10px 0; }
    button { width:100%; padding:12px; background:black; color:white; border:none; cursor:pointer; }
  </style>
</head>
<body>

<h2>Gerar Notificação iPhone</h2>

<label>Título</label>
<input id="titleInput" value="Transferência recebida" /> 

<label>Corpo da Notificação</label>
<input id="bodyInput" value="Recebemos sua transferência de R$ 19.000,00." />

<label>Ícone da notificação</label>
<select id="iconSelect">
  <option value="icon1.png">Nubank</option>
</select>

<label>Quantidade</label>
<input id="amountInput" type="number" value="1" min="1" />

<label>Delay (ms)</label>
<input id="delayInput" type="number" value="1000" />

<button id="permBtn">Permitir Notificações</button>
<button id="sendBtn">Gerar Notificações</button>

<script>
document.getElementById('permBtn').addEventListener('click', async () => {
  const perm = await Notification.requestPermission();
  alert(perm === 'granted' ? 'Permitido!' : 'Negado: ' + perm);
});

document.getElementById('sendBtn').addEventListener('click', () => {
  const title = document.getElementById('titleInput').value;
  const body = document.getElementById('bodyInput').value;
  const icon = document.getElementById('iconSelect').value;
  const total = parseInt(document.getElementById('amountInput').value, 10);
  const delay = parseInt(document.getElementById('delayInput').value, 10);

  let count = 0;
  const timer = setInterval(() => {
    new Notification(title, { body: body, icon: icon });
    count++;
    if (count >= total) clearInterval(timer);
  }, delay);
});
</script>

</body>
</html>
